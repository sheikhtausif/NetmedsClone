<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            background-color:#F6F6F7;
        }
        #cont{
            width:80vw;
            display:flex;
            margin:0 auto;
            display:flex;
        }
        #itemCart{
            width:60%;
            border: 1px solid grey;
            padding:5px 20px;
            color:#6f7284;
        }
    .card{
        width:90%;
        border-radius: 10px;
        padding: 10px 20px;
        background-color:#FFFFFF;
        border-bottom: 1px solid rgb(21,27,57,0.09);
        
    }
    .card>p:nth-child(1){
        font-size:18px;
        letter-spacing:1px;
        font-weight: 200;
        color:black;
    }
    .card>p:nth-child(2){
        font-style: italic;
        position:relative;
    }
    .card>p:nth-child(3){
        position: relative;
        color:red;
        font-size:18px;
        font-weight: 600;
    }
    .card>p:nth-child(4){
        text-decoration: 1px solid line-through; 
        font-size:16px;

    }
    #payment{
        margin-left: 20px;
        width:40%;
        height:60%;
        border: 1px solid grey;
        padding:5px 20px;
        background-color:white;
        padding-bottom: 100px;
        border-radius:10px;
    }
    .paymentDiv2{
        padding-top: 20px;
        padding-left:20px;
    }
    .paymentDiv2 span{
        margin-left:150px;
    }
    .paymentDiv2>p:nth-child(2) span{
        margin-left:117px;
    }
    .paymentDiv2>p:nth-child(3) span{
        margin-left:138px;
    }
    .paymentDiv3{
        text-align: center;
        padding-top: 20px;
    }
    .proceedBtn{
        width:130px;
        height: 40px;
        border-radius:5px;
        border:none;
        background-color:#23ADB0;
        color:white;
        font-size:16px;
    }

    </style>
</head>
<body>
    <div id="cont">
        <div id="itemCart">
            <h3>ORDER SUMMARY</h3>
            <hr>
        </div>
        <div id="payment">
            <h3>PAYMENT DETAILS</h3>
            <hr>         
        </div>
        
    </div>
</body>
</html>
<script>
    let data = localStorage.getItem("products")
    data = JSON.parse(data)
    
    let itemCart = document.getElementById("itemCart")
    let payment = document.getElementById("payment")

    let sum =0;
    let disc=0;

    
    data.forEach(function(el){

        let div1 = document.createElement("div")
        div1.setAttribute("class","card")
        let p1 = document.createElement("p")
        p1.innerHTML = el.name
        let p2 = document.createElement("p")
        p2.innerHTML = el.Mfr

        
        let p3 = document.createElement("p")
        p3.innerHTML = el.originalPrice
        let p4 = document.createElement("p")
        p4.innerHTML = el.discountPrice
        

        sum += (el.originalPrice.split(/[\r+Rs.]/).map(Number).reduce(function(a,b){
            return a+b
        }))
        disc += (el.discountPrice.split(/[\r+Rs.]/).map(Number).reduce(function(a,b){
            return a+b
        }))

        

        let btn1 = document.createElement("button")
        btn1.innerText="Remove"
        btn1.onclick = function(e){

            e.currentTarget.parentNode.remove()

        }

        
        let p5 = document.createElement("p")
        p5.innerHTML = `Delivery between`

        div1.append(p1,p2,p4,p3,p5,btn1)
        itemCart.append(div1)

    })


let netmedsDiscount = sum - disc;


            let div2 = document.createElement("div")
            div2.setAttribute("class","paymentDiv2")

                let p7 = document.createElement("p")
                p7.innerHTML = `<p>MRP TOTAL<span>Rs.${sum}.00</span></p>`
                let p8 = document.createElement("p")
                p8.innerHTML = `<p>Netmeds Discount <span>-Rs.${netmedsDiscount}.00</span></p>`
                let p9 = document.createElement("p")
                p9.innerHTML = `<p><strong>Total Amount <sup>*</sup> <span>Rs.${disc}.00</span></strong></p>`


                div2.append(p7, p8, p9)


                let div3 = document.createElement("div")
                div3.setAttribute("class", "paymentDiv3")


                let p10 = document.createElement("h3")
                p10.innerHTML = "Total Amount"

                let p11 = document.createElement("h3")
                p11.innerHTML = `Rs.${disc}.00`

                let proceed = document.createElement("button");
                proceed.innerHTML = "PROCEED"
                proceed.setAttribute("class","proceedBtn")

                div3.append(p10, p11, proceed)

                payment.append(div2, div3)
</script>